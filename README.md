# 紫微斗数解读助手

**和 Claude 聊天，就能解读你的紫微斗数命盘 🔮**

这是一个为 Claude Code 设计的 Skill，安装后你只需要和 Claude 聊天，就能自动生成并解读紫微斗数命盘，无需手动运行任何命令或脚本。

---

## ✨ 能做什么？

- 📊 **本命盘解读**：输入你的出生信息，自动生成完整的 12 宫命盘并解读
- 📅 **运势分析**：查看你的流年、流月、流日运势
- 🔮 **未来预测**：分析未来某个日期的运势趋势
- 💬 **对话式交互**：用自然语言提问，Claude 自动处理所有技术细节

---

## 🚀 快速开始（3 步搞定）

### 1️⃣ 下载并安装

```bash
# 克隆或下载这个项目
git clone <这个仓库的地址>

# 将项目放到 Claude Code 的 skills 目录
# 通常是 ~/.claude/skills/ 或通过 Claude Code 导入
```

### 2️⃣ 安装依赖

第一次使用前需要安装依赖（只需要做一次）：

```bash
cd ziwei-iztro-reader/scripts
npm install
```

### 3️⃣ 开始使用

重启 Claude Code，然后就可以直接对话了！

---

## 💡 使用示例

安装完成后，你可以这样和 Claude 对话：

### 解读本命盘
```
我想看我的紫微斗数命盘
我是 1990 年 5 月 20 日上午 9 点出生的（公历）
性别男，出生地北京
```

### 查看近期运势
```
帮我看一下这个月的事业和感情运势
我现在在上海，时区 Asia/Shanghai
```

### 分析未来某天
```
帮我分析一下 2026 年 3 月 15 日这天的运势
这天适合谈重要的合作吗？
```

### 对比多个日期
```
帮我对比一下 3 月 1 日、3 月 15 日和 3 月 30 日
这三天哪天更适合开始新项目？
```

---

## 📋 需要提供的信息

Claude 会在对话中询问你这些信息（如果你没有主动提供）：

| 信息 | 说明 | 示例 |
|------|------|------|
| **出生日期** | 公历或农历 | `1990-5-20`（公历）或 `1990-4-26`（农历） |
| **出生时辰** | 具体时间或时辰名称 | `上午 9 点` 或 `巳时` |
| **性别** | 男或女 | `男` / `女` |
| **出生地** | 城市名称 | `北京` / `Shanghai` |
| **当前时区**（可选） | 用于计算"今天"的运势 | `Asia/Shanghai` |

💡 **提示**：出生日期必须明确是公历还是农历，Claude 会在不确定时主动询问你。

---

## 🎯 工作原理

当你和 Claude 对话时：

1. **Claude 收集信息** - 通过对话获取你的出生信息和查询需求
2. **自动排盘** - Claude 调用 iztro 库生成紫微斗数命盘
3. **结构化分析** - 自动整理 12 宫位、主星、辅星、四化等信息
4. **人性化解读** - Claude 用自然语言为你解读命盘和运势

整个过程全自动，你只需要和 Claude 聊天就好！

---

## 📚 进阶使用

### 项目文档结构

如果你想深入了解技术细节：

- `SKILL.md` - Skill 的详细使用说明
- `references/input-schema.md` - 输入输出格式说明
- `references/time-index.md` - 时辰对照表
- `references/interpretation-template.md` - 解读模板参考
- `已知问题.md` - 已知限制和问题

### 命令行调试（可选）

如果你是开发者，想直接在命令行测试脚本：

```bash
cd scripts
npm install
node iztro_runner.mjs example.input.json
```

输出的 JSON 包含：
- `natal` - 本命盘完整结构
- `current` / `future[]` - 流运快照
- `currentDetailed` / `futureDetailed[]` - 逐宫详细数据

---

## ⚙️ 技术说明

- **排盘引擎**：基于 [iztro](https://github.com/SylarLong/iztro) 库
- **输出格式**：结构化 JSON，包含 12 宫位完整信息
- **时间处理**：使用民用时间（默认不做真太阳时修正）
- **解读层级**：本命 → 流年 → 流月 → 流日，层层递进

---

## ⚠️ 免责声明

本项目输出仅用于**文化研究与娱乐参考**，不构成医疗、法律、投资等任何专业建议。排盘采用民用出生时间，默认不做真太阳时修正。

---

## 📝 反馈与问题

如遇到问题或有改进建议，欢迎查看 [`已知问题.md`](./已知问题.md) 或提交 Issue。

---

**开始使用吧！祝你与 Claude 的紫微斗数之旅愉快 ✨**
